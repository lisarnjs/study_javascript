June 15, Wednesday

## Arrow Function (화살표 함수)

### 기본 문법

```javascript
// 매개변수 지정 방법
    () => { ... } // 매개변수가 없을 경우
     x => { ... } // 매개변수가 한 개인 경우, 소괄호를 생략할 수 있다.
(x, y) => { ... } // 매개변수가 여러 개인 경우, 소괄호를 생략할 수 없다.

// 함수 몸체 지정 방법
x => { return x * x }  // single line block
x => x * x             // 함수 몸체가 한줄의 구문이라면 중괄호를 생략할 수 있으며 암묵적으로 return된다. 위 표현과 동일하다.

() => { return { a: 1 }; }
() => ({ a: 1 })  // 위 표현과 동일하다. 객체 반환시 소괄호를 사용한다.

() => {           // multi line block.
  const x = 10;
  return x * x;
};
```

### 호출

- 화살표 함수는 **익명 함수**로만 사용할 수 있다.
- 화살표 함수를 호출하기 위해서는 **함수 표현식**을 사용한다.
- 콜백 함수로 사용할 수 있다.  
  일반적인 함수 표현식보다 표현이 간결하다.

### 일반 함수 vs 화살표 함수

**this**

- 일반 함수

  함수를 호출할 때 함수가 어떻게 호출되었는지에 따라 this에 바인딩할 객체가 동적을 결정된다.

- 화살표 함수

  화살표 함수는 함수를 선언할 때 this에 바인딩할 객체가 정적으로 결정된다. 화살표 함수의 this 언제나 상위 스코프의 this를 가리킨다.  
  ( Lexical this )

### 화살표 함수를 사용해서는 안되는 경우

- 메소드

```
메소드로 정의한 화살표 함수 내부의 this는 메소드를 소유한 객체, 즉 메소드를 호출한 객체를 가리키지 않고 상위 컨택스트인 전역 객체 window를 가리킨다. 따라서 화살표 함수로 메소드를 정의하는 것은 바람직하지 않다.
```

- 프로토타입

```
화살표 함수로 객체의 메소드를 정의하였을 때와 같은 문제가 발생한다.
```

- addEventListener 함수의 콜백 함수

```
addEventListener 함수의 콜백 함수를 화살표 함수로 정의하면 this가 상위 컨택스트인 전역 객체 window를 가리킨다.
따라서 addEventListener 함수의 콜백 함수 내에서 this를 사용하는 경우, function 키워드로 정의한 일반 함수를 사용해야 한다.
```

> study with [poiemaweb](https://poiemaweb.com/es6-arrow-function)
